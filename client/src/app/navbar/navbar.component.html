<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <div class="row">

            
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <a 
                    routerLink="/"
                    class="navbar-brand" >
                    Dating App
                </a>
                    <ul class="navbar-nav mr-auto" >
                        <ng-container *ngIf="(accountService.currentUser$) | async">
                            <li 
                                class="nav-item">
                                <a 
                                    routerLinkActive="active"
                                    class="nav-link" 
                                    [routerLink]="['/members']">
                                    Matches
                                </a>
                            </li>
                            <li 
                                class="nav-item">
                                <a 
                                class="nav-link" 
                                routerLinkActive="active"
                                [routerLink]="['/lists']">
                                Lists
                            </a>
                            </li>
                            <li 
                                class="nav-item">
                                <a 
                                    routerLinkActive="active"
                                    [routerLink]="['/messages']"
                                    class="nav-link" >
                                    Messages   
                                </a>
                            </li>
                            <li 
                                class="nav-item">
                                <a 
                                    routerLinkActive="active"
                                    [routerLink]="['/']"
                                    class="nav-link btn btn-secondary"
                                    (click)="logout()">
                                    Logout   
                                </a>
                            </li>
                        </ng-container>
                        
                        <li 
                            class="nav-item">
                            <a 
                                routerLinkActive="active"
                                [routerLink]="['/error']"
                                class="nav-link btn btn-secondary" >
                                Errors   
                            </a>
                        </li>
                    </ul>
                    
                        <div class="dropdown inline-block" *ngIf="(accountService.currentUser$ | async) as user">
                            <a class="dropdown-toggle text-light" dropdownToggle > Welcome {{user.username | titlecase}} </a>
                            <div class="dropdown-menu" *dropdownMenu>
                                <a href="" class="drowdown-item">Edit profile</a>
                                <div class="dropdown-divider"></div>
                                <a href="" class="drowdown-item" (click)="logout()">Logout</a>
                            </div>
                        </div>
                    

                    <form  
                    *ngIf="(accountService.currentUser$ | async) === null"
                    #loginForm="ngForm"
                    (ngSubmit)="login()"
                    class="form-inline my-2 my-lg-0">
                    <input 
                        class="form-control mr-sm-2" 
                        type="text" placeholder="Username" 
                        [(ngModel)]="model.username"
                        name="username"
                        >
                    <input 
                        class="form-control mr-sm-2" 
                        type="password" 
                        placeholder="Password" 
                        [(ngModel)]="model.password"
                        name="password">
                    <button class="btn btn-success my-2 my-sm-0" type="submit">Login</button>
                    </form>

            </div>

        </div>
    </div>
  </nav>
